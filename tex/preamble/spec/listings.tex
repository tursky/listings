\usepackage{color}
\definecolor{mygray}{rgb}{0.5, 0.5, 0.5}
\definecolor{mygreen}{rgb}{0,0.6,0}

\usepackage{listings}
\lstset{
    basicstyle=\footnotesize\ttfamily,
    numberstyle=\footnotesize,
    breaklines=true,
    tabsize=2,
    frame=none,
    literate={--}{{-{}-}}2,
    literate={---}{{-{}-{}-}}3,
    numbers=left,
    numberstyle=\color{mygray},
    commentstyle=\color{mygreen},
    showstringspaces=false,
    xleftmargin=31pt,
    framexleftmargin=0pt,
    framexrightmargin=0pt,
    framexbottommargin=10pt,
    framextopmargin=10pt,
    captionpos=t
}

% Prevent copying line number
\usepackage{accsupp}    
\lstset {
    numberstyle=\noncopynumber,
    columns=flexible
}

\newcommand{\noncopynumber}[1]{
    \BeginAccSupp{method=escape,ActualText={}}
    #1
    \EndAccSupp{}
}